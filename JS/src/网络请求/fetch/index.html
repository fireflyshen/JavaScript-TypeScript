<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 分派请求
        // fetch()只有一个必需的参数 input。多数情况下，这个参数是要获取资源的 URL。这个方法返回一个期约
        let r = fetch("https://jsonplaceholder.typicode.com/posts");
        console.log(r);

        // 请求完成、资源可用时，期约会解决为一个 Response 对象。这个对象是 API 的封装，可以通过它 取得相应资源。获取资源要使用这个对象的属性和方法，掌握响应的情况并将负载转换为有用的形式， 如下所示:
        fetch("https://jsonplaceholder.typicode.com/posts").then((response) => console.log(response)); 
    
        // 读取响应内容的最简单方式是取得纯文本格式的内容，这要用到 text()方法。
        var data = fetch("https://jsonplaceholder.typicode.com/posts").then((response) => response.text().then(e => console.log(e))); 
        console.log(data);

        // 处理状态码和请求失败
        fetch("https://jsonplaceholder.typicode.com/posts").then((response) => {
            console.log(response.status);
            console.log(response.statusText,"@");
        } );

        // 404状态吗
        fetch("https://jsonplaceholder.typicode.com/post").then((response) => {
            console.log(response.status);
            console.log(response.statusText,"@"); 
        })

        
    </script>
</body>
</html>